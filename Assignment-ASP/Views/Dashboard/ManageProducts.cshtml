@{
    var products = await productService.GetAllProducts();
}

<partial name="../partials/_Breadcrumbs.cshtml" />
@if (TempData["Message"] != null)
{
    <div class="alert alert-success alert-dismissable">
        <strong>@TempData["Message"]</strong>
    </div>
}
<section class="container __dashboard-wrapper">
    <div class="__dashboard-btn-wrapper">
        <a asp-action="Index" class="__btn-red">Return to Dashboard</a>
    </div>
    <div class="__dashboard-btn-wrapper">
        <a asp-action="CreateProduct" class="__btn-red">New Product</a>
    </div>
    <div class="__list-wrapper">
        @{
            if (products != null)
            foreach(var product in products)
            {
                    <div class="__item-box">
                        <p>@product.Name</p>
                        @{
                            foreach(var category in product.Categories)
                            {
                                <div>
                                    <p>@category.Name</p>
                                </div>
                            }
                        }
                        <a asp-action="UpdateProduct" asp><i class="fa-solid fa-pen-to-square"></i></a>
                        <form method="post" novalidate>
                            <input type="number" name="productId" hidden value="@product.Id" />
                            <button type="submit"><i class="fa-light fa-trash"></i></button>
                        </form>
                    </div>
            }
        }
    </div>
</section>